(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-db9a6714"],{"0b42":function(e,t,c){var n=c("da84"),o=c("e8b5"),r=c("68ee"),a=c("861d"),i=c("b622"),l=i("species"),d=n.Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,r(t)&&(t===d||o(t.prototype))?t=void 0:a(t)&&(t=t[l],null===t&&(t=void 0))),void 0===t?d:t}},"1dde":function(e,t,c){var n=c("d039"),o=c("b622"),r=c("2d00"),a=o("species");e.exports=function(e){return r>=51||!n((function(){var t=[],c=t.constructor={};return c[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},4438:function(e,t,c){"use strict";c("6fd8")},"65f0":function(e,t,c){var n=c("0b42");e.exports=function(e,t){return new(n(e))(0===t?0:t)}},"6fd8":function(e,t,c){},8418:function(e,t,c){"use strict";var n=c("a04b"),o=c("9bf2"),r=c("5c6c");e.exports=function(e,t,c){var a=n(t);a in e?o.f(e,a,r(0,c)):e[a]=c}},"99af":function(e,t,c){"use strict";var n=c("23e7"),o=c("da84"),r=c("d039"),a=c("e8b5"),i=c("861d"),l=c("7b0b"),d=c("07fa"),u=c("8418"),s=c("65f0"),b=c("1dde"),p=c("b622"),f=c("2d00"),h=p("isConcatSpreadable"),m=9007199254740991,j="Maximum allowed index exceeded",O=o.TypeError,v=f>=51||!r((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),g=b("concat"),k=function(e){if(!i(e))return!1;var t=e[h];return void 0!==t?!!t:a(e)},E=!v||!g;n({target:"Array",proto:!0,forced:E},{concat:function(e){var t,c,n,o,r,a=l(this),i=s(a,0),b=0;for(t=-1,n=arguments.length;t<n;t++)if(r=-1===t?a:arguments[t],k(r)){if(o=d(r),b+o>m)throw O(j);for(c=0;c<o;c++,b++)c in r&&u(i,b,r[c])}else{if(b>=m)throw O(j);u(i,b++,r)}return i.length=b,i}})},e8b5:function(e,t,c){var n=c("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},f11c:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),o={class:"row mt-3"},r={class:"col-12"},a=Object(n["createElementVNode"])("h2",null,"產品列表",-1),i={class:"table align-middle"},l=Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th",null,"圖片"),Object(n["createElementVNode"])("th",null,"商品名稱"),Object(n["createElementVNode"])("th",null,"價格"),Object(n["createElementVNode"])("th")])],-1),d={key:0,class:"h5"},u={key:1,class:"h6"},s={key:2,class:"h5"},b={class:"btn-group btn-group-sm"},p=["onClick"],f=Object(n["createElementVNode"])("i",{class:"fas fa-spinner fa-pulse"},null,-1),h=Object(n["createTextVNode"])(" 查看更多 "),m=[f,h],j=["onClick"],O=Object(n["createElementVNode"])("i",{class:"fas fa-spinner fa-pulse"},null,-1),v=Object(n["createTextVNode"])(" 加到購物車 "),g=[O,v];function k(e,t,c,f,h,O){var v=Object(n["resolveComponent"])("router-link"),k=Object(n["resolveComponent"])("Loading");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",r,[a,Object(n["createElementVNode"])("table",i,[l,Object(n["createElementVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(h.products,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:t.id},[Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("div",{style:Object(n["normalizeStyle"])([{width:"200px",height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(t.imageUrl,")")}])},null,4)]),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(t.title),1),Object(n["createElementVNode"])("td",null,[t.price?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",d,Object(n["toDisplayString"])(t.origin_price)+" 元 ",1)),t.price?(Object(n["openBlock"])(),Object(n["createElementBlock"])("del",u,"原價 "+Object(n["toDisplayString"])(t.origin_price)+" 元",1)):Object(n["createCommentVNode"])("",!0),t.price?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",s," 現在只要 "+Object(n["toDisplayString"])(t.price)+" 元 ",1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("div",b,[Object(n["createVNode"])(v,{to:"/product/".concat(t.id)},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(c){return e.openProductModal(t.id)}},m,8,p)]})),_:2},1032,["to"]),Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger",onClick:function(e){return O.addToCart(t.id,1)}},g,8,j)])])])})),128))])]),Object(n["createElementVNode"])("h4",null,"總共："+Object(n["toDisplayString"])(h.products.length)+" 項商品",1)])]),Object(n["createVNode"])(k,{active:h.isLoading,"z-index":1060},null,8,["active"])],64)}c("99af"),c("ac1f"),c("5319");var E={data:function(){return{products:[],isLoading:!0}},methods:{getProducts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("jin576tw-data","/products/all");this.$http.get(t).then((function(t){e.isLoading=!1,e.products=t.data.products})).catch((function(t){e.isLoading=!1,console.dir(t)}))},addToCart:function(e,t){var c=this,n=document.cookie.replace(/(?:(?:^|.*;\s*)userToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(n){this.$http.defaults.headers.common.Authorization="".concat(n);var o="".concat("https://vue3-course-api.hexschool.io/v2/","api/user/check");this.$http.post(o,{api_token:n}).then((function(){var n="".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("jin576tw-data","/cart"),o={product_id:e,qty:t};c.$http.post(n,{data:o}).then((function(e){alert(e.data.message),c.getCart()})).catch((function(e){alert(e.data.message)}))})).catch((function(e){c.isChecked=!1,alert(e.data.message),c.$router.push("/login")}))}else alert("您尚未登入。"),this.$router.push("/login")}},mounted:function(){this.getProducts()}},N=(c("4438"),c("6b0d")),V=c.n(N);const y=V()(E,[["render",k]]);t["default"]=y}}]);
//# sourceMappingURL=chunk-db9a6714.99aa2dbb.js.map